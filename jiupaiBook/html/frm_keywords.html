<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="maximum-scale=1.0,minimum-scale=1.0,user-scalable=0,width=device-width,initial-scale=1.0"/>
    <title>搜索页-相关搜索</title>
    <link rel="stylesheet" type="text/css" href="../css/api.css"/>
    <link rel="stylesheet" type="text/css" href="../css/style.css"/>
    <link rel="stylesheet" type="text/css" href="../css/search.css"/>
    <style>
    	html,body{ background:transparent;}
    </style>

</head>
<body>
<div  class="selectBox">
    <div class="marAuto">
    <!--相关搜索 begin--> 
    <div class="relatedSearch mar_t20">
    	<ul id="list">
        	<li>高野<span>好</span>造</li>
        	<li><span>明朝</span>那些事儿</li>
        	<li><span>明朝</span>那些事儿</li>
        	<li><span>明朝</span>那些事儿</li>
        	<li><span>明朝</span>那些事儿</li>
        	<li><span>明朝</span>那些事儿</li>
        	<li><span>明朝</span>那些事儿</li>
        </ul>
    </div>
    <!--相关搜索 end--> 
    </div>
</div>
<div class="selectFooterTM"></div>
</body>
    
<script type="text/javascript" src="../script/api.js"></script>	
<script type="text/javascript" src="../script/tools.js"></script>
<script type="text/javascript" src="../script/event.js"></script> 
<script type="text/javascript"> 
 
apiready = function() {  
   makeList();
}

//生成匹配词列表
function makeList(){
  var html='';
  var inputKeyword=api.pageParam.keyword;//用户输入的关键词
  
  //alert(inputKeyword.length);
  for(var i=0;i<api.pageParam.list.length;i++){
  	var obj=api.pageParam.list[i];
  	var keyword=obj.keyWord;
  	keyword=keyword.replace(inputKeyword,"<span>"+inputKeyword+"</span>");
  	//var reg='/'+inputKeyword+'/g';
  	//alert(reg);
  	//alert(keyword);
  	var func="selectedKeyword('"+obj.keyWord+"')";
  	html+='<li onclick="'+func+'">'+keyword+'</li>'; 
  }
  //alert(html);
  $api.html($api.byId("list"), html);

}

//选中被选词
function selectedKeyword(keyWord){ 
  api.execScript({
  	  name: 'common_search',
	  script: 'selectedKeyword("'+keyWord+'");'
  });

}

	
</script>
</html>