// JavaScript Document
$(function() {
	var d1 = "M-387.893,177.634s157.207-86.51,354.9-109.78c161.364-18.995,279.536-1.5,373.339,37.485S525.046,169.871,686.875,133c50.861-11.588,140.1-44.987,186.667-70,69.946-37.572,142.628-54.066,210-19,80.24,41.766,136.08,62.8,204.17,80,60.79,15.357,157.16,26.292,306.32-21.338,139.99-44.7,189.79-68.551,213.76-78.1,23.58-9.391,105.45-44.714,188.98-8.033,63.26,27.78,103.56,59.948,146.98,83.474,44.1,23.891,127.28,53.439,218.75,32,97.6-22.874,146.02-63.632,266.87-27,91.94,27.867,157.74,10.523,223.13,0";
	var d2 = "M-387.893-22.633s157.207,86.51,354.9,109.78c161.364,18.995,279.536,1.5,373.339-37.485S525.046-14.871,686.875,22c50.861,11.588,140.1,44.987,186.667,70,69.946,37.572,142.628,54.066,210,19,80.24-41.766,136.08-62.8,204.17-80,60.79-15.357,157.16-26.292,306.32,21.338,139.99,44.7,189.79,68.551,213.76,78.1,23.58,9.391,105.45,44.715,188.98,8.033,63.26-27.78,103.56-59.948,146.98-83.474,44.1-23.89,127.28-53.439,218.75-32,97.6,22.874,146.02,63.632,266.87,27,91.94-27.867,157.74-10.523,223.13,0";
	var svg = $("#svg");
	var path = $("#path");

	// 实现点击 svg 路径发生变化。
	// 不过普通情况（无 CSS3 Transition 效果下），过渡很生硬
	// 但是貌似无论我给 svg 还是 path 亦或是两者都加： transition: all 0.5s ease-in-out
	// 都无法实现平滑过渡!
	// 是否 svg 不支持 CSS3 的 transition ？？
	var pathDBl = true;
	path.attr("d", d2);
	setInterval(function() {
		if(pathDBl) {
			path.attr("d", d1);
		} else {
			path.attr("d", d2);
		}
		pathDBl = !pathDBl;
		console.log(pathDBl);
	}, 4000);
	
	setTimeout(function() {
		$('.svg-wrap').animate({
			'left': -800
		}, 7900, 'linear');
		setTimeout(function() {
			$('.svg-wrap').css('left', 0);
		}, 8000);

		setInterval(function() {
			$('.svg-wrap').animate({
				'left': -800
			}, 7940, 'linear');
			
			setTimeout(function() {
				$('.svg-wrap').css('left', 0);
			}, 7960);
		}, 8000);
	}, 2000);
});